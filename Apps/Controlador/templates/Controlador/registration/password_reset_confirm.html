{% extends "registration/registration_base.html" %}
{% load i18n %}

{% block meta %}
<!-- NOTE(joshblum): This prevents leaking the password reset token via the
   Referer header to any 3rd party apps on the page. -->
<meta name="referrer" content="origin">
{% endblock %}

{% block title %}{% trans "Confirm password reset" %}{% endblock %}

{% block content %}

<div class="hold-transition login-page">
  <div class="login-box">
      
      
      <div class="card">
        <div class="card-body login-card-body">

          {% if validlink %}
          <p class="login-box-msg">{% trans "Enter your new password below to reset your password:" %}</p>
    
          <form method="post" action="">
              {% csrf_token %}
            <div class="input-group mb-3">
              <input type="password" name="new_password1" autocomplete="new-password" class="form-control" placeholder="New password:" required="" id="id_new_password1"> 
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-lock"></span>
                </div>
              </div>
            </div>
            <div class="input-group mb-3">
              <input type="password" name="new_password2" class="form-control" placeholder="Confirm New Password" autocomplete="new-password" required="" id="id_new_password2">
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-lock"></span>
                </div>
              </div>
            </div>
            <div class="row">
         
              <!-- /.col -->
              <div class="col-6">

                <input type="submit" class="btn btn-primary btn-block" value="{% trans 'Set password' %}" />
                
              </div>
              <!-- /.col -->
            </div>
          </form>

          {% else %}
          Password reset unsuccessful. Please <a href="{% url 'auth_password_reset' %}">try again.</a>
          {% endif %}
  
          
        </div>
        <!-- /.login-card-body -->
        
      </div>
      <div class="form-row  mt-5">
        {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
                </div>
  
  
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
        {% endif %}
      </div>
    </div>
    <!-- /.login-box -->
  
  </div>
{% endblock %}


{# This is used by django.contrib.auth #}
